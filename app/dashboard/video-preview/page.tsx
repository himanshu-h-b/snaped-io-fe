"use client";

import { Button } from "@/components/button";
import Link from "next/link";

function VideoPreview({ searchParams }: { searchParams: any }) {
  const url = searchParams.url;
  const { setVideoUrl } = useAvatarStore();

  useEffect(() => {
    setVideoUrl("");
  }, []);

  return (
    <div className="flex flex-col p-4 sm:p-6 md:p-8 gap-8 lg:pr-12">
      <div className="space-y-6">
        <div className="bg-background rounded-lg p-6 border shadow space-y-10 pb-10">
          <h3 className="font-bold">Video Preview</h3>
          <div className="flex gap-4">
            <div className="flex justify-center w-full max-w-2xl">
              <video
                src={url}
                controls
                className="max-h-[500px] rounded-lg"
              ></video>
            </div>
            <div className="flex flex-col items-center justify-center flex-1 gap-6">
              <Button className="min-w-[250px]">
                <Link
                  href={url}
                  className="flex gap-3 items-center"
                  target="_blank"
                  download
                >
                  <span className="rotate-180">
                    {/* image was not premade of the icon */}
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 33 33"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M14.4584 32.8334V16.1938L9.15008 21.5022L6.29175 18.5417L16.5001 8.33342L26.7084 18.5417L23.8501 21.5022L18.5417 16.1938V32.8334H14.4584ZM0.166748 10.3751V4.25008C0.166748 3.12716 0.566914 2.16622 1.36725 1.36725C2.16758 0.568275 3.12853 0.168109 4.25008 0.166748H28.7501C29.873 0.166748 30.8346 0.566914 31.635 1.36725C32.4353 2.16758 32.8348 3.12853 32.8334 4.25008V10.3751H28.7501V4.25008H4.25008V10.3751H0.166748Z"
                        fill="#fff"
                      />
                      <defs>
                        <linearGradient
                          id="gradient"
                          x1="16.5986"
                          y1="-188.744"
                          x2="54.4674"
                          y2="-186.395"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop stopColor="#ffffff" />
                          <stop offset="1" stopColor="#ffffff" />
                        </linearGradient>
                      </defs>
                    </svg>
                  </span>
                  <p className="text-base">Export and Download</p>
                </Link>
              </Button>
              <Button className="min-w-[250px]">
                <Link href={"/dashboard"} className="flex gap-3 items-center">
                  <span>
                    {/* image was not premade of the icon */}
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 37 34"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        fillRule="evenodd"
                        clipRule="evenodd"
                        d="M5.22625 15.3H11.4793C11.7031 15.3 12.0712 15.3 12.4079 15.3272C12.8242 15.3612 13.5346 15.4564 14.2857 15.8423C15.0302 16.2253 15.6449 16.7902 16.0617 17.4743C16.4798 18.1628 16.5834 18.8156 16.6204 19.1981C16.6519 19.5092 16.65 19.8458 16.65 20.0515V29.2485C16.65 29.4542 16.65 29.7925 16.6204 30.1019C16.5834 30.4844 16.4816 31.1372 16.0599 31.8274C15.643 32.5115 15.0283 33.0764 14.2839 33.4594C13.7056 33.7515 13.0659 33.9266 12.4079 33.9728C12.0694 34 11.7031 34 11.4793 34H5.17075C4.94875 34 4.57875 34 4.24205 33.9728C3.58391 33.9261 2.94428 33.7504 2.36615 33.4577C1.62166 33.0747 1.00699 32.5098 0.59015 31.8257C0.271573 31.2944 0.0804412 30.7067 0.0296001 30.1019C5.83151e-08 29.7908 0 29.4542 0 29.2485V20.0515C0 19.8475 5.83151e-08 19.5075 0.0296001 19.1981C0.0666001 18.8156 0.1702 18.1628 0.59015 17.4743C1.00699 16.7902 1.62166 16.2253 2.36615 15.8423C2.94428 15.5496 3.58391 15.3739 4.24205 15.3272C4.5806 15.3 4.9469 15.3 5.17075 15.3H5.22625ZM3.8184 19.1352C3.7 19.329 3.7 19.584 3.7 20.1042V29.1992C3.7 29.7143 3.7 29.9727 3.8184 30.1648C3.90177 30.3016 4.0247 30.4146 4.1736 30.4912C4.3845 30.6 4.66385 30.6 5.22625 30.6H11.4237C11.9862 30.6 12.2674 30.6 12.4783 30.4912C12.6265 30.4143 12.7487 30.3014 12.8316 30.1648C12.95 29.9727 12.95 29.716 12.95 29.1975V20.1025C12.95 19.5857 12.95 19.329 12.8316 19.1335C12.748 18.9973 12.6251 18.8849 12.4764 18.8088C12.2674 18.7 11.988 18.7 11.4237 18.7H5.22625C4.66385 18.7 4.3845 18.7 4.17175 18.8088C4.02353 18.8857 3.90126 18.9986 3.8184 19.1352ZM5.22625 0H11.4793C11.7031 0 12.0712 5.27749e-08 12.4079 0.0272001C12.8242 0.0612001 13.5346 0.1564 14.2857 0.5423C15.0302 0.925346 15.6449 1.49018 16.0617 2.1743C16.4798 2.8628 16.5834 3.5156 16.6204 3.8981C16.6519 4.2092 16.65 4.5458 16.65 4.7515V8.8485C16.65 9.0542 16.65 9.3925 16.6204 9.7019C16.5834 10.0844 16.4816 10.7372 16.0599 11.4274C15.643 12.1115 15.0283 12.6764 14.2839 13.0594C13.7056 13.3516 13.0659 13.5266 12.4079 13.5728C12.0694 13.6017 11.7031 13.6 11.4793 13.6H5.17075C4.94875 13.6 4.57875 13.6 4.24205 13.5728C3.58391 13.5261 2.94428 13.3504 2.36615 13.0577C1.62166 12.6747 1.00699 12.1098 0.59015 11.4257C0.271573 10.8944 0.0804412 10.3067 0.0296001 9.7019C5.83151e-08 9.3908 0 9.0542 0 8.8485V4.7515C0 4.5475 5.83151e-08 4.2075 0.0296001 3.8981C0.0666001 3.5156 0.1702 2.8628 0.59015 2.1743C1.00699 1.49018 1.62166 0.925346 2.36615 0.5423C2.94428 0.249554 3.58391 0.073919 4.24205 0.0272001C4.5806 5.27749e-08 4.9469 0 5.17075 0H5.22625ZM3.8184 3.8352C3.7 4.029 3.7 4.284 3.7 4.8025V8.7975C3.7 9.3143 3.7 9.5727 3.8184 9.7665C3.90204 9.9027 4.02495 10.0151 4.1736 10.0912C4.3845 10.2 4.662 10.2 5.22625 10.2H11.4237C11.9862 10.2 12.2674 10.2 12.4783 10.0912C12.6265 10.0143 12.7487 9.9014 12.8316 9.7648C12.95 9.5727 12.95 9.316 12.95 8.7975V4.8025C12.95 4.2857 12.95 4.029 12.8316 3.8335C12.748 3.6973 12.6251 3.58495 12.4764 3.5088C12.2674 3.4 11.988 3.4 11.4237 3.4H5.22625C4.66385 3.4 4.3845 3.4 4.17175 3.5088C4.02353 3.58566 3.90126 3.6986 3.8184 3.8352ZM25.5763 18.7H31.8293C32.0531 18.7 32.4213 18.7 32.758 18.6728C33.1742 18.6388 33.8846 18.5453 34.6357 18.1577C35.3802 17.7747 35.9949 17.2098 36.4117 16.5257C36.8316 15.8372 36.9334 15.1844 36.9704 14.8019C37 14.4908 37 14.1542 37 13.9485V4.7515C37 4.5475 37 4.2075 36.9704 3.8981C36.9196 3.29333 36.7284 2.70556 36.4098 2.1743C35.993 1.49018 35.3783 0.925346 34.6339 0.5423C34.0557 0.249554 33.4161 0.073919 32.758 0.0272001C32.4194 5.27749e-08 32.0531 0 31.8293 0H25.5208C25.2988 0 24.9288 5.27749e-08 24.5921 0.0272001C24.1758 0.0612001 23.4654 0.1564 22.7162 0.5423C21.9717 0.925346 21.357 1.49018 20.9401 2.1743C20.6216 2.70556 20.4304 3.29333 20.3796 3.8981C20.35 4.2092 20.35 4.5458 20.35 4.7515V13.9485C20.35 14.1542 20.35 14.4925 20.3796 14.8019C20.4166 15.1844 20.5202 15.8372 20.9401 16.5274C21.357 17.2115 21.9717 17.7764 22.7162 18.1594C23.4654 18.5436 24.1758 18.6388 24.5921 18.6728C24.9306 18.7017 25.2969 18.7 25.5208 18.7H25.5763ZM24.1684 14.8648C24.05 14.671 24.05 14.416 24.05 13.8975V4.8025C24.05 4.2857 24.05 4.029 24.1684 3.8335C24.252 3.6973 24.3749 3.58495 24.5236 3.5088C24.7345 3.4 25.012 3.4 25.5781 3.4H31.7756C32.3362 3.4 32.6174 3.4 32.8264 3.5088C32.9753 3.58541 33.0982 3.69837 33.1816 3.8352C33.3 4.029 33.3 4.2857 33.3 4.8025V13.8975C33.3 14.4143 33.3 14.671 33.1816 14.8665C33.098 15.0027 32.9751 15.1151 32.8264 15.1912C32.6174 15.3 32.3362 15.3 31.7737 15.3H25.5763C25.0138 15.3 24.7345 15.3 24.5217 15.1912C24.3735 15.1143 24.2513 15.0014 24.1684 14.8648ZM25.5763 34H31.8293C32.0531 34 32.4213 34 32.758 33.9728C33.1742 33.9388 33.8846 33.8436 34.6357 33.4577C35.3802 33.0747 35.9949 32.5098 36.4117 31.8257C36.8316 31.1372 36.9334 30.4844 36.9704 30.1019C37 29.7908 37 29.4542 37 29.2485V25.1515C37 24.9475 37 24.6075 36.9704 24.2981C36.9196 23.6933 36.7284 23.1056 36.4098 22.5743C35.993 21.8902 35.3783 21.3253 34.6339 20.9423C34.0557 20.6496 33.4161 20.4739 32.758 20.4272C32.4194 20.4 32.0531 20.4 31.8293 20.4H25.5208C25.2988 20.4 24.9288 20.4 24.5921 20.4272C24.1758 20.4612 23.4654 20.5564 22.7162 20.9423C21.9717 21.3253 21.357 21.8902 20.9401 22.5743C20.6216 23.1056 20.4304 23.6933 20.3796 24.2981C20.35 24.6092 20.35 24.9458 20.35 25.1515V29.2485C20.35 29.4542 20.35 29.7925 20.3796 30.1019C20.4166 30.4844 20.5202 31.1372 20.9401 31.8274C21.357 32.5115 21.9717 33.0764 22.7162 33.4594C23.4654 33.8453 24.1758 33.9388 24.5921 33.9728C24.9306 34 25.2969 34 25.5208 34H25.5763ZM24.1684 30.1648C24.05 29.9727 24.05 29.716 24.05 29.1975V25.2025C24.05 24.6857 24.05 24.429 24.1684 24.2335C24.252 24.0973 24.3749 23.9849 24.5236 23.9088C24.7345 23.8 25.0139 23.8 25.5781 23.8H31.7756C32.3362 23.8 32.6174 23.8 32.8264 23.9088C32.9744 23.9853 33.0984 24.0975 33.1816 24.2352C33.3 24.429 33.3 24.6857 33.3 25.2042V29.1992C33.3 29.7143 33.3 29.9727 33.1816 30.1648C33.0982 30.3016 32.9753 30.4146 32.8264 30.4912C32.6174 30.6 32.3362 30.6 31.7737 30.6H25.5763C25.0138 30.6 24.7345 30.6 24.5217 30.4912C24.3735 30.4143 24.2513 30.3014 24.1684 30.1648Z"
                        fill="#fff"
                      />
                      <defs>
                        <linearGradient
                          id="gradient"
                          x1="16.5986"
                          y1="-188.744"
                          x2="54.4674"
                          y2="-186.395"
                          gradientUnits="userSpaceOnUse"
                        >
                          <stop stopColor="#4E43FA" />
                          <stop offset="1" stopColor="#9F62CA" />
                        </linearGradient>
                      </defs>
                    </svg>
                  </span>
                  <p className="text-base">Dashboard</p>
                </Link>
              </Button>
            </div>
          </div>
        </div>
      </div>
    </div>
  );
}
import { useAvatarStore } from "@/store/useAvatarStore";
import { useEffect } from "react";

export default VideoPreview;
